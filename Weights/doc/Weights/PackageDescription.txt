namespace CGAL {
namespace Weights {

/*!
\defgroup PkgWeightsRef Weight Interface Reference

\defgroup PkgWeightsRefConcepts Concepts
\ingroup PkgWeightsRef

Concepts, which are used to parameterize/define the functions and classes
from `CGAL::Weights`.


\defgroup PkgWeightsRefAnalytic Analytic Weights
\ingroup PkgWeightsRef

Models and functions that can be used to compute weights, which have a simple analytic expression.


\defgroup PkgWeightsRefUniformWeights Uniform Weight
\ingroup PkgWeightsRefAnalytic

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefShepardWeights Shepard Weight
\ingroup PkgWeightsRefAnalytic

This weight is computed as
\f$w = \frac{1}{d^a}\f$
with notations shown in the figure below and \f$a\f$ any real number
being the power parameter.

Here, the distance is computed between the points `p` and `q`.

\cgalFigureBegin{shepard_weight, shepard.svg}
  Notation used for the Shepard weight.
\cgalFigureEnd

\cgalHeading{Specializations}
- For \f$a = 1\f$, this weight is equal to the \ref PkgWeightsRefInverseDistanceWeights "Inverse Distance Weight".

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\pre d != 0
\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefInverseDistanceWeights Inverse Distance Weight
\ingroup PkgWeightsRefAnalytic

This weight is computed as
\f$w = \frac{1}{d}\f$
with notations shown in the figure below.

Here, the distance is computed between the points `p` and `q`.

\cgalFigureBegin{inverse_distance_weight, inverse_distance.svg}
  Notation used for the inverse distance weight.
\cgalFigureEnd

\cgalHeading{Other Formulations}
- This weight is a special case of the \ref PkgWeightsRefShepardWeights "Shepard Weight".

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\pre d != 0
\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefThreePointFamilyWeights Three Point Family Weight
\ingroup PkgWeightsRefAnalytic

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefWachspressWeights Wachspress Weight
\ingroup PkgWeightsRefAnalytic

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefAuthalicWeights Authalic Weight
\ingroup PkgWeightsRefAnalytic

This weight is computed as
\f$w = 2 \frac{\cot\beta + \cot\gamma}{d^2}\f$
with notations shown in the figure below.

Here, `q` is a query point and the points `p0`, `p1`, and `p2` are ordered.

\cgalFigureBegin{authalic_weight, authalic.svg}
  Notation used for the authalic weight.
\cgalFigureEnd

\cgalHeading{Other Formulations}
- This weight is equal to the \ref PkgWeightsRefWachspressWeights "Wachspress Weight".
- This weight is a special case of the \ref PkgWeightsRefThreePointFamilyWeights "Three Point Family Weight".

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\pre d != 0
\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefMeanValueWeights Mean Value Weight
\ingroup PkgWeightsRefAnalytic

This weight is computed as
\f$w = \pm 2 \sqrt{\frac{2 (d_1 d_2 - D)}{(d d_1 + D_1)(d d_2 + D_2)}}\f$
with notations shown in the figure below and dot products

\f$D_1 = (p_0 - q) \cdot (p_1 - q)\f$,
\f$D_2 = (p_1 - q) \cdot (p_2 - q)\f$, and
\f$D   = (p_0 - q) \cdot (p_2 - q)\f$.

The \f$\pm\f$ sign is a sign of the weight that depends on the configuration.

Here, `q` is a query point and the points `p0`, `p1`, and `p2` are ordered.

\cgalFigureBegin{mean_value_weight, mean_value.svg}
  Notation used for the mean value weight.
\cgalFigureEnd

\cgalHeading{Other Formulations}
- This weight is equal to the \ref PkgWeightsRefTangentWeights "Tangent Weight".
- This weight is a special case of the \ref PkgWeightsRefThreePointFamilyWeights "Three Point Family Weight".

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\pre (d * d1 + D1) != 0 && (d * d2 + D2) != 0
\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefTangentWeights Tangent Weight
\ingroup PkgWeightsRefAnalytic

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefDiscreteHarmonicWeights Discrete Harmonic Weight
\ingroup PkgWeightsRefAnalytic

This weight is computed as
\f$w = \frac{d_2^2 A_1 - d^2 B + d_1^2 A_2}{A_1 A_2}\f$
with notations shown in the figure below.

Here, `q` is a query point and the points `p0`, `p1`, and `p2` are ordered.

\cgalFigureBegin{discrete_harmonic_weight, discrete_harmonic.svg}
  Notation used for the discrete harmonic weight.
\cgalFigureEnd

\cgalHeading{Other Formulations}
- This weight is equal to the \ref PkgWeightsRefCotangentWeights "Cotangent Weight".
- This weight is a special case of the \ref PkgWeightsRefThreePointFamilyWeights "Three Point Family Weight".

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\pre A1 != 0 && A2 != 0
\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefCotangentWeights Cotangent Weight
\ingroup PkgWeightsRefAnalytic

This weight is computed as
\f$w = 2 (\cot\beta + \cot\gamma)\f$
with notations shown in the figure below.

Here, `q` is a query point and the points `p0`, `p1`, and `p2` are ordered.

\cgalFigureBegin{cotangent_weight, cotangent.svg}
  Notation used for the cotangent weight.
\cgalFigureEnd

\cgalHeading{Other Formulations}
- This weight is equal to the \ref PkgWeightsRefDiscreteHarmonicWeights "Discrete Harmonic Weight".
- This weight is a special case of the \ref PkgWeightsRefThreePointFamilyWeights "Three Point Family Weight".

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefAnalytic


\defgroup PkgWeightsRefBarycentric Barycentric Weights
\ingroup PkgWeightsRef

Models and functions that can be used to compute barycentric weights with respect
to polygons. These weights are then normalized in order to obtain barycentric coordinates.


\defgroup PkgWeightsRefRegions Weighting Regions
\ingroup PkgWeightsRef

Models and functions that can be used to compute weighting regions. These weights are
used to balance other weights.


\defgroup PkgWeightsRefUniformRegionWeights Uniform Region Weight
\ingroup PkgWeightsRefRegions

This weight is always equal to 1.

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefRegions


\defgroup PkgWeightsRefTriangularRegionWeights Triangular Region Weight
\ingroup PkgWeightsRefRegions

This weight is the area of the shaded triangle `[p, q, r]` in the figure below.

\cgalFigureBegin{triangular_area, triangular_cell.svg}
  Notation used for the triangular cell.
\cgalFigureEnd

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefRegions


\defgroup PkgWeightsRefBarycentricRegionWeights Barycentric Region Weight
\ingroup PkgWeightsRefRegions

This weight is the area of the shaded region in the figure below. The region
is formed by the two midpoints of the edges incident to `q` and the barycenter of
the triangle `[p, q, r]`.

\cgalFigureBegin{barycentric_area, barycentric_cell.svg}
  Notation used for the barycentric cell.
\cgalFigureEnd

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\note The type `FT` is a model of `FieldNumberType`.

\addtogroup PkgWeightsRefRegions


\defgroup PkgWeightsRefVoronoiRegionWeights Voronoi Region Weight
\ingroup PkgWeightsRefRegions

This weight is the area of the shaded region in the figure below. The region
is formed by the two midpoints of the edges incident to `q` and the circumcenter of
the triangle `[p, q, r]`.

\cgalFigureBegin{voronoi_area, voronoi_cell.svg}
  Notation used for the Voronoi cell.
\cgalFigureEnd

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\note The type `FT` is a model of `FieldNumberType`.

\sa \ref PkgWeightsRefMixedVoronoiRegionWeights "Mixed Voronoi Region Weight"

\addtogroup PkgWeightsRefRegions


\defgroup PkgWeightsRefMixedVoronoiRegionWeights Mixed Voronoi Region Weight
\ingroup PkgWeightsRefRegions

This weight is the area of the shaded region in the figure below. The region
is formed by the two midpoints of the edges incident to `q` and the circumcenter of
the triangle `[p, q, r]`.

\cgalFigureBegin{mixed_voronoi_area, mixed_voronoi_cell.svg}
  Notation used for the mixed Voronoi cell.
\cgalFigureEnd

However, unlike the original \ref PkgWeightsRefVoronoiRegionWeights "Voronoi Region Weight",
if one of the angles in the triangle `[p, q, r]` is obtuse and the circumcenter vertex of the region
is outside this triangle, this vertex is moved to the midpoint of the edge `[r, p]` as shown in
the figure below.

\cgalFigureBegin{mixed_voronoi_area_obtuse, mixed_voronoi_cell_obtuse.svg}
  The case with the obtuse angle.
\cgalFigureEnd

\tparam GeomTraits
a model of `AnalyticWeightTraits_2` for 2D points;
a model of `AnalyticWeightTraits_3` for 3D points

\note The type `FT` is a model of `FieldNumberType`.

\sa \ref PkgWeightsRefVoronoiRegionWeights "Voronoi Region Weight"

\addtogroup PkgWeightsRefRegions


\defgroup PkgWeightsRefUtils Utility Functions
\ingroup PkgWeightsRef

Different related utility functions.


\addtogroup PkgWeightsRef


\cgalPkgDescriptionBegin{Weight Interface, PkgWeightsRef}
\cgalPkgPicture{logo_120x120.png}

\cgalPkgSummaryBegin
\cgalPkgAuthors{Dmitry Anisimov}
\cgalPkgDesc{Many geometric algorithms rely on weighted constructions. This package
provides a simple and unified interface to different types of weights. In particular,
it includes numerous weights with a simple analytic expression, generalized barycentric
weights, and weighting regions. All weights are available both in 2D and 3D.}
\cgalPkgManuals{Chapter_Weights, PkgWeightsRef}
\cgalPkgSummaryEnd

\cgalPkgShortInfoBegin
\cgalPkgSince{5.3}
\cgalPkgBib{cgal:a-wi}
\cgalPkgLicense{\ref licensesGPL "GPL"}
\cgalPkgDemo{Polyhedron demo, polyhedron_3.zip}
\cgalPkgShortInfoEnd

\cgalPkgDescriptionEnd

## Weight Interface ##

### Concepts ###
- `BarycentricWeights_2`
- `AnalyticWeightTraits_2`
- `AnalyticWeightTraits_3`

### Analytic %Weights ###
- \ref PkgWeightsRefUniformWeights "Uniform Weight"
- \ref PkgWeightsRefShepardWeights "Shepard Weight"
- \ref PkgWeightsRefInverseDistanceWeights "Inverse Distance Weight"
- \ref PkgWeightsRefThreePointFamilyWeights "Three Point Family Weight"
- \ref PkgWeightsRefWachspressWeights "Wachspress Weight"
- \ref PkgWeightsRefAuthalicWeights "Authalic Weight"
- \ref PkgWeightsRefMeanValueWeights "Mean Value Weight"
- \ref PkgWeightsRefTangentWeights "Tangent Weight"
- \ref PkgWeightsRefDiscreteHarmonicWeights "Discrete Harmonic Weight"
- \ref PkgWeightsRefCotangentWeights "Cotangent Weight"

### Barycentric %Weights ###
- `Wachspress_weights_2<Polygon, GeomTraits, VertexMap>`
- `wachspress_weights_2()`
- `Mean_value_weights_2<Polygon, GeomTraits, VertexMap>`
- `mean_value_weights_2()`
- `Discrete_harmonic_weights_2<Polygon, GeomTraits, VertexMap>`
- `discrete_harmonic_weights_2()`

### Weighting Regions ###
- \ref PkgWeightsRefUniformRegionWeights "Uniform Region Weight"
- \ref PkgWeightsRefTriangularRegionWeights "Triangular Region Weight"
- \ref PkgWeightsRefBarycentricRegionWeights "Barycentric Region Weight"
- \ref PkgWeightsRefVoronoiRegionWeights "Voronoi Region Weight"
- \ref PkgWeightsRefMixedVoronoiRegionWeights "Mixed Voronoi Region Weight"
*/

} /* namespace Weights */
} /* namespace CGAL */
